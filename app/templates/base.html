{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}Dream Moon Studio{% endblock %}

{% block head %}
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/bootstrap.css')}}">
<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
<link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">
{% endblock %}

{% block navbar %}
<div class="navbar navbar-inverse" role="navigation">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">DreaMMoon</a>
		</div>
		<div class="navbar-collapse collapse">
			<ul class="nav navbar-nav">
				<li><a href="#">{{_("Blog")}}</a></li>
				<li><a href="#">{{_("Forum")}}</a></li>
			</ul>
			<ul class="nav navbar-nav navbar-right">
				{% if current_user.is_authenticated() %}
					<li><span></span></li>
					<li><a href="#"}}>{{_("Setting")}}</a></li>
					<li><a href="#">{{_("Log Out")}}</a></li>
				{% else %}
					<li><span></span></li>
					<li><a href="#">{{_("Sign Up")}}</a></li>
					<li><a href="#">{{_("Log In")}}</a></li>
				{% endif %}
			</ul>
		</div>
	</div>
</div>

{% endblock %}

{% macro render_flash(message, type="alert-warning") -%}
<div class="alert {{type}}">
		<button type="button" class="close" data-dismiss="alert">&times;</button>
		{{ message }}
	</div>	
	
	
{%- endmacro %}

{% block content %}
<div class="container page">
	{% for message in get_flashed_messages() %}
		{%if message[:2] == 'w/'%}
			{{render_flash(message[2:])}}
		{%elif message[:2] == 'i/'%} 
			{{render_flash(message[2:], "alert-info")}}
		{%elif message[:2] == 's/'%}
			{{render_flash(message[2:], "alert-success")}}
		{%elif message[:2] == 'd/'%}
			{{render_flash(message[2:], "alert-danger")}}
		{%else%}
			{{render_flash(message)}}
		{%endif%}
	{% endfor %}
	{% block page %}{% endblock %}
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
{{ moment.include_moment() }}
{{ pagedown.include_pagedown() }}
{% endblock %}

{% block doc %}
{{ super() }}
<!-- FOOTER -->
<div class="page-footer">
	<div class="container">
	<footer>
	    <p class="pull-right"><a href="">Back to top</a></p>
	    <p>This site is constructed by <a href="#">Youhao Wei</a></p>
	    <p class="pull-left">
	    	Resources for constructing this webpage:
	    </p>
	    <ul class="pull-left">
    		<li>CSS Library Orignal: <a href="http://getbootstrap.com/">Bootstrap</a></li>
    		<li>CSS Additional Tool: <a href="http://bootswatch.com/">Bootswatch</a></li>
    		<li>Programming Framework: <a href="http://flask.pocoo.org/">Flask</a></li>
    	</ul>
	 </footer>
	</div>
</div>
{% endblock %}
